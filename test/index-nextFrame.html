<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Video playback test</title>
        <style>
            body { font-family: sans-serif; }
        </style>
    </head>
    <body>


        <main>
            <canvas></canvas>
        </main>

        <button class="play" disabled>Play</button>
        <button class="pause" disabled>Pause</button>
        <button class="previous" disabled>Previous Frame</button>
        <button class="next" disabled>Next Frame</button>

        <br>

        <button id="video1" class="load" style="background: #E39A57">Load Video A</button>
        <button id="video2" class="load" style="background: #75A2B7">Load Video B</button>


        <hr>


        <h4>Test procedure</h4>

        <ol>
            <li>Click the orange button to load a video</li>
            <li>Wait for it to load and start playing</li>
            <li>Use the previous frame buttons to seek repeatedly (uses <code>seekToFrame()</code>)</li>
            <li>Observe video quality (should be OK â€” these are low quality videos)</li>

            <li>Click button to load the other video (blue or orange)</li>
            <li>Wait for it to load and start playing</li>
            <li>Use the previous frame buttons to seek repeatedly</li>
            <li>Observe video quality (should be obviously broken -- see <a href="#screenshot">issue.jpg</a>)</li>
            <li>Note: using next frame button has no issue (uses <code>nextFrame()</code>)</li>
        </ol>

        <ul>
            <li>Reload the page to reset</li>
            <li>You can start with either video and it will be fine</li>
            <li>Switching to a second video (without reloading the page) causes the issue when seeking.</li>
        </ul>


        <hr>


        <figure id="screenshot">
            <img src="issue.jpg" alt="">
            <figcaption>Screenshot showing video artefacts from previous frames</figcaption>
        </figure>


        <script src="../jsmpg.js"></script>
        <script src="test-nextFrame.js"></script>


    </body>
</html>